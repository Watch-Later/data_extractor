- case: item_extracted_result_is_typeddict
  skip: sys.version_info.minor < 8
  main: |
    from tests.utils import D
    from data_extractor.item import Item, Field

    class Point2D(Item):
        x = Field[int](D())
        y = Field[int](D())
        _dummy = Field(D())
        _dummy_val = 1

    p = Point2D(D())
    rv = p.extract({"x": 1, "y": 3})
    reveal_type(rv)
  out: |
    main:12: note: Revealed type is "TypedDict({'x': builtins.int, 'y': builtins.int, '_dummy': Any})"
- case: item_extracted_many_results_are_typeddict
  skip: sys.version_info.minor < 8
  main: |
    from tests.utils import D
    from data_extractor.item import Item, Field

    class Point2D(Item):
        x = Field[int](D())
        y = Field[int](D())
        _dummy = Field(D())
        _dummy_val = 1

    p = Point2D(D(), is_many=True)
    rvs = p.extract([{"x": 1, "y": 3}])
    reveal_type(rvs)
  out: |
    main:12: note: Revealed type is "builtins.list[TypedDict({'x': builtins.int, 'y': builtins.int, '_dummy': Any})]"
- case: item_in-place_extracting
  skip: sys.version_info.minor < 8
  main: |
    from tests.utils import D
    from data_extractor.item import Item, Field

    class Point2D(Item):
        x = Field[int](D())
        y = Field[int](D())
        _dummy = Field(D())
        _dummy_val = 1

    rvs = Point2D(D(), is_many=True).extract([{"x": 1, "y": 3}])
    reveal_type(rvs)
    rv = Point2D(D()).extract([{"x": 1, "y": 3}])
    reveal_type(rv)
  out: |
    main:11: note: Revealed type is "builtins.list[TypedDict({'x': builtins.int, 'y': builtins.int, '_dummy': Any})]"
    main:13: note: Revealed type is "TypedDict({'x': builtins.int, 'y': builtins.int, '_dummy': Any})"
